(function(e,g){"undefined"!==typeof module&&module.exports?module.exports=g():"function"===typeof define&&define.amd?define(g):e.Placeholder=g.call(e)})(this,function(){function e(a,b){return a.currentStyle?a.currentStyle[b]:c.getComputedStyle(a,null)[b]}function g(a,b,c){"undefined"===typeof c&&(c=!0);for(var d in b)if("Object"===Object.prototype.toString.call(b[d]))g(a,b[d]);else if(!a[d]||c)a[d]=b[d];return a}var c=window,l=new Abstract({setPlaceholder:function(){},show:function(){},hide:function(){},
hideLabel:function(){},initPage:function(){},onchange:function(){}}),d=new Clazz(l,{config:{carrier:null,control:{unifieddisplay:!1,emMethod:"focus"},isFor:!0,style:{color:"#BBB"}},inherit:Component},function(a){this.setConfig(a);this._.support="placeholder"in document.createElement("input");this._.placeholder=null;return this.__init()});d.initPage=function(a){var b=[],c;if(document.querySelectorAll){var h=document.querySelectorAll("input[placeholder]");var f=0;for(c=h.length;f<c;f++)b.push(h[f]);
h=document.querySelectorAll("textarea[placeholder]");f=0;for(c=h.length;f<c;f++)b.push(h[f])}else{h=document.getElementsByTagName("input");f=0;for(c=h.length;f<c;f++)h[f].placeholder&&b.push(h[f]);h=document.getElementsByTagName("textarea");f=0;for(c=h.length;f<c;f++)h[f].placeholder&&b.push(h[f])}if(b.length)return new d(g({carrier:b},a,!1))};d.extend({__init:function(){var a=this.config.carrier;var b="";var e=!1;if("[object Array]"===Object.prototype.toString.call(a)){b=[];var h,f;e=0;for(h=a.length;e<
h;e++)(f=a[e])&&1===f.nodeType&&b.push(new d(g({carrier:f},this.config,!1)));return b}try{b=a.getAttributeNode("placeholder");e=!!a.getAttributeNode("data-placeholder");if(!a)throw"Placeholder init error:carrier must not be null.";if(!b&&e)throw"repeat initialize.";if(!b)throw"element not has placeholder attribute.";}catch(n){if(n&&c.console){c.console.log("input."+(a.name||a.id)+" initError : "+n);return}}if(!e&&(this._reRenderColor(),this.elems.carrier=a,this._.placeholder=b.value,this._.name=a.name||
"",this._.id="p_"+(new Date).getTime(),this.config.control.unifieddisplay&&(a.removeAttribute("placeholder"),this._.support=!1),a.setAttribute("data-placeholder",(new Date).getTime().toString(32)+(1+65536*Math.random()|0).toString(16).substring(1)),!this._.support)){this.config.isFor&&(a.id?this._.id=a.id:a.id=this._.id);this.elems.label=this._createLabel(a);""===a.value&&(this.elems.label.innerHTML=this._.placeholder);b=document.createElement("div");b.style.cssText="position:relative; display:inline-block; *display:inline; *zoom:1;";
b.appendChild(this.elems.label);a.parentNode.insertBefore(b,a);if("none"===a.style.display||""!==a.value)this.elems.label.style.display="none";b.appendChild(a);this.__events()}},_createLabel:function(a){var b=document.createElement("label"),c=e(a,"padding"),d=e(a,"margin"),f=e(a,"fontSize"),g=this.__formatNumber(e(a,"paddingLeft")),l=this.__formatNumber(e(a,"paddingRight")),p=this.__formatNumber(e(a,"borderTopWidth")),q=this.__formatNumber(e(a,"borderLeftWidth")),r=this.__formatNumber(e(a,"marginTop"));
b.htmlFor=this._.id;d||(d=getComputedStyle(a,null).marginTop+" 0");c||(c=e(a,"paddingTop")+" "+l+"px "+e(a,"paddingBottom")+" "+g+"px");if(this.config.style){var k;var m="";for(k in this.config.style)m+=k+":"+this.config.style[k]+";";"input"===a.nodeName.toLowerCase()&&(k=e(a,"width"),m+="white-space:nowrap;overflow:hidden;","auto"===k&&(k=a.offsetWidth-g-l),m="100%"===k?m+"width:100%;":m+("width:"+(parseInt(k)-2)+"px;"))}b.style.cssText="position:absolute; cursor:text; padding:"+c+"; padding-left:"+
(g+q)+"px; margin:"+d+"; margin-top:"+(r+p+1)+"px; font-size:"+f+";"+m;return b},__formatNumber:function(a){return isNaN(parseInt(a))?0:parseInt(a,10)},__events:function(){var a=this,b=this.elems.carrier;b.onblur=function(){a._blur()};document.attachEvent&&b.attachEvent("onpropertychange",function(){a._blur()});b.oninput=function(){a._blur()};this.config.isFor||(this.elems.label.onclick=function(){b.focus()})},_focus:function(){this.elems.label.innerHTML="";this.elems.label.style.display="none"},
_blur:function(){var a=this.elems.label;""===this.elems.carrier.value?(a.innerHTML=this._.placeholder,this.elems.label.style.display=""):a.innerHTML=""},_reRenderColor:function(){if(!document.getElementById("placeholderFixed")){var a=document.getElementsByTagName("head")[0];var b=this.config.style.color;var c=":-moz-placeholder{color:"+b+"; }"+("::-moz-placeholder{color:"+b+";}")+("::-webkit-input-placeholder{color:"+b+";}")+(":-ms-input-placeholder{color:"+b+"!important;}");b=document.createElement("style");
b.type="text/css";b.id="placeholderFixed";a.appendChild(b);b.styleSheet?b.styleSheet.cssText=c:document.getBoxObjectFor?b.innerHTML+=c:b.appendChild(document.createTextNode(c))}},setPlaceholder:function(a){var b=a!==this._.placeholder;this._.placeholder=a;this.config.control.unifieddisplay||this.elems.carrier.setAttribute("placeholder",a);!this._.support&&""===this.elems.carrier.value&&(this.elems.label.innerHTML=a);b&&this.fire("change")},show:function(){this.elems.label&&(this.elems.label.style.display=
"",this._blur());this.elems.carrier.style.display=""},hide:function(){this.elems.label&&(this.elems.label.style.display="none");this.elems.carrier.style.display="none"},hideLabel:function(){this.elems.label&&(this.elems.label.style.display="none")},onchange:function(a){if(a)this.on("change",a)}});return d});
(function(e,g){var c=e.MIR||{},l=function(){c.cbPlaceHolders=new Placeholder({carrier:g("input:text[placeholder]").toArray(),isFor:!1});if("[object Object]"==Object.prototype.toString.call(c.cbPlaceHolders))if(c.cbPlaceHolders.elems.carrier){var d=[];d.push(c.cbPlaceHolders);c.cbPlaceHolders=d}else c.cbPlaceHolders=[];if("[object Array]"==Object.prototype.toString.call(c.cbPlaceHolders)){d=[];for(var a=0;a<c.cbPlaceHolders.length;a++)c.cbPlaceHolders[a].elems.carrier&&d.push(c.cbPlaceHolders[a]);
c.cbPlaceHolders=d}};l();c.addPlaceholder=function(d){"undefined"==typeof c.cbPlaceHolders&&l();d=util.extend(!0,{isFor:!1},d);d=new Placeholder(d);if("[object Array]"==Object.prototype.toString.call(d)){for(var a=[],b=0;b<d.length;b++)d[b].elems.carrier&&a.push(d[b]);c.cbPlaceHolders=c.cbPlaceHolders.concat(a)}"[object Object]"==Object.prototype.toString.call(d)&&d.elems.carrier&&c.cbPlaceHolders.push(d)};c.getPlaceholder=function(d){for(var a=0;a<c.cbPlaceHolders.length;a++)if("undefined"!=typeof c.cbPlaceHolders[a].elems.carrier&&
d==c.cbPlaceHolders[a].elems.carrier.name)return c.cbPlaceHolders[a];return{setPlaceholder:function(){},show:function(){},hide:function(){}}};c.getPlaceholderByClass=function(d){for(var a=0;a<c.cbPlaceHolders.length;a++)if("undefined"!=typeof c.cbPlaceHolders[a].elems.carrier&&g(c.cbPlaceHolders[a].elems.carrier).hasClass(d))return c.cbPlaceHolders[a];return{setPlaceholder:function(){},show:function(){},hide:function(){}}};c.getPlaceholderByDom=function(d){for(var a=0;a<c.cbPlaceHolders.length;a++)if("undefined"!=
typeof c.cbPlaceHolders[a].elems.carrier&&g(c.cbPlaceHolders[a].elems.carrier).attr("data-placeholder")==g(d).attr("data-placeholder"))return c.cbPlaceHolders[a];return{setPlaceholder:function(){},show:function(){},hide:function(){}}}})(window,jQuery);